<template>
  <div class="body">
    <section class="credits__viewport">
      <div class="credits" ref="credits">
        <header>
          <h1>《衡石联动，乘风破浪》</h1>
        </header>

        <dl class="credits__single">
          <dt>主舵人</dt>
          <dd>总经理 · 张辉</dd>
          <dt>策划人</dt>
          <dd>产品总监 · 尹学海</dd>
          <dt>采购</dt>
          <dd>助理 · 陶雯雯</dd>
        </dl>

        <h2>摄影赞助</h2>
        <dl class="credits__double">
          <dt>刘璐</dt>
          <dd>尼康Z30</dd>
          <dt>董晗博</dt>
          <dd>索尼ZVE10</dd>
        </dl>

        <h2>美术</h2>
        <dl class="credits__double">
          <dt>孔科业</dt>
          <dd>UI设计师</dd>
          <dt>孟飞</dt>
          <dd>UI设计师</dd>
        </dl>

        <h2>节日参加人员</h2>
        <dl class="credits__double">
          <dt>总经理</dt>
          <dd>张辉</dd>
          <dt>产品总监</dt>
          <dd>尹学海</dd>
          <dt>架构师</dt>
          <dd>王成光</dd>
          <dt>助理</dt>
          <dd>涛雯雯</dd>
          <dt>支撑组长</dt>
          <dd>郝艳丽</dd>
          <dt>研发一组组长</dt>
          <dd>段沛雨</dd>
          <dt>研发二组组长</dt>
          <dd>田松涛</dd>
          <dt>产品经理</dt>
          <dd>次晓雪</dd>
          <dt>产品经理</dt>
          <dd>代瑶瑶</dd>

          <dt>产品经理</dt>
          <dd>索永超</dd>
          <dt>UI设计师</dt>
          <dd>孔科业</dd>
          <dt>UI设计师</dt>
          <dd>孟飞</dd>
          <dt>测试工程师</dt>
          <dd>吴梦楠</dd>
          <dt>测试工程师</dt>
          <dd>付俊敏</dd>
          <dt>测试工程师</dt>
          <dd>郭凤</dd>
          <dt>测试工程师</dt>
          <dd>何冰飒</dd>
          <dt>前端开发工程师</dt>
          <dd>刘璐</dd>
          <dt>前端开发工程师</dt>
          <dd>冯蕊</dd>
          <dt>前端开发工程师</dt>
          <dd>郭殿涛</dd>
          <dt>前端开发工程师</dt>
          <dd>王妙田</dd>
          <dt>Java开发工程师</dt>
          <dd>彭存</dd>
          <dt>Java开发工程师</dt>
          <dd>刘宏亮</dd>
          <dt>Java开发工程师</dt>
          <dd>周竞</dd>

          <dt>前端开发工程师（外协）</dt>
          <dd>蒋世莲</dd>
          <dt>前端开发工程师（外协）</dt>
          <dd>程瑞祥</dd>
          <dt>前端开发工程师（外协）</dt>
          <dd>李童</dd>
          <dt>前端开发工程师（外协）</dt>
          <dd>刘依泽</dd>
          <dt>前端开发工程师（外协）</dt>
          <dd>王玉龙</dd>
          <dt>前端开发工程师（外协）</dt>
          <dd>王子扬</dd>
          <dt>前端开发工程师（外协）</dt>
          <dd>张宗凯</dd>
          <dt>前端开发工程师（外协）</dt>
          <dd>冯金傲</dd>
          <dt>Java开发工程师（外协）</dt>
          <dd>赵雅楠</dd>
          <dt>Java开发工程师（外协）</dt>
          <dd>赵永涛</dd>
          <dt>Java开发工程师（外协）</dt>
          <dd>秦嘉辉</dd>
          <dt>Java开发工程师（外协）</dt>
          <dd>王丙洋</dd>
        </dl>

        <h2>致谢</h2>
        <ul class="credits__inline">
          <li>感谢张总百忙中为产品研发中心送上祝福</li>
          <li>在接下来的日子里</li>
          <li>我们会坚持</li>
          <li>六新六合</li>
          <li>助鑫考</li>
        </ul>

        <h2>活动内容</h2>
        <div class="credits__music">
          <dl>
            <dt>活动物品</dt>
            <dd><em>时间胶囊</em> 水果&心愿纸</dd>
            <dd><em>节日蛋糕</em> 节日礼包</dd>
            <dd><em>横幅</em> 零食饮料等等...</dd>
          </dl>
          <dl>
            <dt>活动游戏</dt>
            <dd><em>筷子无敌手</em> 飞碟杯大挑战</dd>
            <dd><em>谁是“撑“序猿</em> Emoji猜成语</dd>
            <dd><em>投壶射箭</em> 主背景板合影发朋友圈</dd>
          </dl>
          <dl>
            <dt>活动流程</dt>
            <dd><em>1. 开幕</em></dd>
            <dd><em>2. 节日主舵人演讲</em></dd>
            <dd><em>3. 架构师成长之路分享</em></dd>
            <dd><em>4. 给鑫考的一句话</em></dd>
            <dd><em>5. 游戏环节</em></dd>
            <dd><em>6. 给员工的祝福心愿</em></dd>
            <dd><em>7. 切节日蛋糕庆祝</em></dd>
            <dd><em>8. 封存时间胶囊</em></dd>
            <dd><em>9. 合影</em></dd>
          </dl>
          <dl>
            <dt>活动主题</dt>
            <dd><em>《衡石联动，乘风破浪》</em> 策划人</dd>
            <dd><em>产品总监</em> 尹学海</dd>
          </dl>
          <dl>
            <dt>重要嘉宾</dt>
            <dd><em>节日总舵人</em>·张辉</dd>
            <dd><em>成长分享</em>·王成光</dd>
            <dd><em>特邀嘉宾</em>·左瑞龙</dd>
          </dl>
        </div>

        <p>
          节日完美闭幕，期待2026的你看到后有所感想，也同样能为2027留下惊喜
        </p>
        <p>
          祝愿鑫考股份2026年再创佳绩，2027年再创辉煌
        </p>
            <div style="height: 1000px">
          
                
        </div>

        <footer>
          <h3>鑫考股份</h3>
          <h4>&copy<span class="smcaps">author</span> 产品研发中心</h4>
        </footer>
      </div>
    </section>
  </div>
</template>

<script>
export default {
  mounted() {
    // 鼠标进入视口暂停动画，离开恢复（支持触摸设备的触摸事件也会停止）
    this._creditsEl = this.$refs.credits;
    // 用于在用户滚动停止后恢复动画的定时器
    this._resumeTimer = null;

    if (this._creditsEl) {
      this._onMouseEnter = () => this._creditsEl.classList.add('paused');
      this._onMouseLeave = () => this._creditsEl.classList.remove('paused');

      // 临时暂停动画并在用户停止交互后恢复（用于 wheel / touchmove）
      this._onUserScroll = () => {
        // 暂停动画
        this._creditsEl.classList.add('paused');
        // 清除已有定时器
        if (this._resumeTimer) {
          clearTimeout(this._resumeTimer);
        }
        // 1.5s 无交互后恢复动画
        this._resumeTimer = setTimeout(() => {
          this._creditsEl.classList.remove('paused');
          this._resumeTimer = null;
        }, 1500);
      };

      this._creditsEl.addEventListener('mouseenter', this._onMouseEnter);
      this._creditsEl.addEventListener('mouseleave', this._onMouseLeave);
      // 触摸时暂停（开始/结束）
      this._creditsEl.addEventListener('touchstart', this._onMouseEnter, { passive: true });
      this._creditsEl.addEventListener('touchend', this._onMouseLeave, { passive: true });

      // 监听鼠标滚轮（wheel）和触摸滑动（touchmove），在用户滚动时暂停自动滚动并在停止后恢复
      this._creditsEl.addEventListener('wheel', this._onUserScroll, { passive: true });
      this._creditsEl.addEventListener('touchmove', this._onUserScroll, { passive: true });
    }
  },
  beforeUnmount() {
    if (this._creditsEl) {
      this._creditsEl.removeEventListener('mouseenter', this._onMouseEnter);
      this._creditsEl.removeEventListener('mouseleave', this._onMouseLeave);
      this._creditsEl.removeEventListener('touchstart', this._onMouseEnter);
      this._creditsEl.removeEventListener('touchend', this._onMouseLeave);
      this._creditsEl.removeEventListener('wheel', this._onUserScroll);
      this._creditsEl.removeEventListener('touchmove', this._onUserScroll);
    }
    if (this._resumeTimer) {
      clearTimeout(this._resumeTimer);
      this._resumeTimer = null;
    }
  }
};
</script>

<style scoped lang="scss">
@import url("https://use.typekit.net/dlv3ztc.css");

*,
*::after,
*::before {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

html {
  font-size: 62.5%;
}

/* 视口容器：隐藏原生滚动条，作为片尾滚动窗口 */
.body {
  font-size: 1.6rem;
  background-color: #0606063b;
  color: #c7c6ac;
  font-family: adelle;
  font-variant-ligatures: common-ligatures;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100vh; /* 固定为可视窗口高度，模拟电影片尾窗口 */
//   overflow: hidden; /* 隐藏原生滚动条 */
//   font-synthesis: none;
  position: absolute;

}
.body::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(ellipse at center, rgba(3, 4, 20, 0.54) 50%, rgba(0, 0, 0, 0.73) 100%);
  z-index: 1;
}
.body::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:url('../../public/images/allperson.JPG');
  background-size: cover;
  background-position: center;
  filter: blur(7px);
  transform: translateZ(0);
  will-change: filter;
  z-index: 0;
}

/* Cross-browser hide scrollbar for body if needed */
.body::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.body {
  -ms-overflow-style: none; /* IE 10+ */
  scrollbar-width: none; /* Firefox */
}

/* 片尾视窗，作为遮罩和定位容器 */
.credits__viewport {
  width: 100%;
  max-width: 1100px;
  height: 100%;
  z-index: 1;
  overflow: auto; /* 允许手动滚动，同时自动滚动通过动画控制；隐藏原生滚动条样式见下 */
  -webkit-overflow-scrolling: touch;
  display: flex;
  align-items: flex-end; /* 内容从底部开始向上移动 */
  position: relative;
}

/* 隐藏 .credits__viewport 的原生滚动条（跨浏览器） */
.credits__viewport::-webkit-scrollbar {
  width: 0;
  height: 0;
}
.credits__viewport {
  -ms-overflow-style: none; /* IE 10+ */
  scrollbar-width: none; /* Firefox */
}

/* 实际滚动内容：从底部向上平移，动画时长根据内容高度可调整 */
.credits {
  width: 100%;
  padding: 2rem 3rem;
  transform: translateY(100%);
  /* animation: roll linear infinite; 动画时长需足够长以便能阅读。这里用 60s 基线 */
  animation: roll 60s linear forwards;
  will-change: transform;
  text-align: center;
}

/* 鼠标或触摸时暂停动画 */
.credits.paused {
  animation-play-state: paused !important;
}

@keyframes roll {
  0% {
    transform: translateY(100%);
  }
  100% {
    transform: translateY(-100%);
  }
}

h1 {
  font-family: adelle-condensed;
  text-align: center;
  font-weight: 400;
  font-variant-caps: all-small-caps;
//   font-size: 6rem;

  em {
    font-variant-caps: normal;
    font-size: .8em;
  }
}

h2 {
  text-align: center;
  font-weight: 400;
  font-size: 2.5rem;
  margin-top: 4rem;
  margin-bottom: .5rem;
  font-variant-caps: all-small-caps;
}

h3 {
  text-align: center;
  font-weight: 400;
  font-size: 2rem;
  margin-bottom: 2rem;
}

h4 {
  text-align: center;
  font-weight: 400;
  font-size: 1.8rem;
}

p {
  font-size: 1.1rem;
  text-align: center;
  margin-top: 2.5rem;
}

.smcaps {
  font-variant-caps: all-small-caps;
}

.credits__single {
  display: grid;
  grid-template-columns: 1fr;
  gap: .5rem 2rem;
  text-align: center;

  dt {
    font-variant-caps: all-small-caps;
    margin-top: 1.7rem;
  }

  dd {
    margin-top: .6rem;
  }
}

.credits__double {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: .5rem 2rem;

  dt {
    text-align: right;
    font-variant-caps: all-small-caps;
    margin-top: 1.7rem;
  }

  dd {
    text-align: left;
    grid-column: 2 / 3;
    margin-top: .8rem;
  }

  dt + dd {
    margin-top: 1.7rem;
  }
}

.credits__inline {
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 1.7rem;

  li {
    padding: .3rem .8rem;
  }
}

.credits__music {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  margin-top: 1.7rem;

  dl {
    text-align: center;
    padding: 0 2rem 2rem 2rem;
    flex-basis: 30rem;
  }

  dt {
    font-style: italic;
    margin-bottom: .5rem;
  }

  dd {
    font-size: .8rem;
  }
}

footer {
  margin: 3rem 0 6rem 0; /* 给底部留出更多空间，避免被裁切 */
}
</style>
